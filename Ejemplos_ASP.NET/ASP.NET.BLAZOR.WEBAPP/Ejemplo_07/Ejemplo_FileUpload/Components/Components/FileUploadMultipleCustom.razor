@inject ILogger<FileUploadMultipleCustom> Logger
@inject IWebHostEnvironment Env


@using Microsoft.AspNetCore.Components.Forms

@attribute [StreamRendering]
@rendermode InteractiveServer

<h3>Subir Archivos</h3>

<div class="col" >
    <div class="row">
        <InputFile key="@inputFileKey" OnChange="HandleFilesSelection"
                   multiple class="form-control" MaxAllowedSize="1000485760" />
        @* @if (selectedFiles.Count > 0)
        {
            <button @onclick="UploadFiles" class="btn btn-primary">Subir Archivos</button>
        } *@
    </div>
    @if (selectedFiles.Count > 0)
    {
        <p>Archivos seleccionados:</p>
        <div id="file-info" class="mt-3">
            @foreach (var file in selectedFiles)
            {
                <div class="d-flex border align-items-center mb-2">
                    <i class="fas fa-file mr-2"></i>
                    <div>@file.Name</div>
                    <div class="ml-auto">
                        <button @onclick="() => RemoveFile(file.Name)" class="btn btn-link text-danger">
                            <i class="fas fa-trash-alt"></i>
                        </button>
                    </div>
                </div>
            }
        </div>
    }
    <p>@message</p>
</div>

<br />
